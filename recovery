index



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameBridge | Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary-bg: #0d1b2a; --accent-purple: #7b2cbf; --accent-teal: #00f5d4; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: radial-gradient(circle at 10% 10%, #1a1a2e 0%, #0f3460 30%, #533483 70%, #16213e 100%);
            height: 100vh; display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative;
        }

        /* Animated Grid Floor */
        .grid-layer {
            position: absolute; bottom: -10%; left: -10%; width: 120%; height: 60%;
            background-image: linear-gradient(to right, rgba(0, 245, 212, 0.1) 1px, transparent 1px), 
                              linear-gradient(to bottom, rgba(0, 245, 212, 0.1) 1px, transparent 1px);
            background-size: 50px 50px; transform: perspective(500px) rotateX(60deg); z-index: 1;
        }

        /* Cyberpunk Glow Line */
        .glow-line {
            position: absolute; height: 4px; width: 100%; top: 60%; z-index: 3;
            background: linear-gradient(90deg, transparent, #00f5d4, transparent);
            filter: blur(8px); opacity: 0.6;
        }

        /* Floating Golden 'G' Bubbles */
        .bubble-g {
            position: absolute; display: flex; align-items: center; justify-content: center; font-weight: 900; border-radius: 12px;
            background: linear-gradient(135deg, #bf953f 0%, #fcf6ba 45%, #b38728 50%, #fbf5b7 55%, #aa771c 100%);
            border: 1px solid rgba(255, 215, 0, 0.3); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5); 
            color: #1a1a2e; animation: float 15s infinite ease-in-out; user-select: none; z-index: 2;
        }
        .bubble-g::after { content: 'G'; }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
            50% { transform: translateY(-40px) rotate(20deg) scale(1.1); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 32px; z-index: 10;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.4);
        }

        .input-field { background: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255, 255, 255, 0.1); color: white; transition: all 0.3s ease; }
        .input-field:focus { border-color: #00f5d4; outline: none; box-shadow: 0 0 10px rgba(0, 245, 212, 0.3); background: rgba(255, 255, 255, 0.2); }
        
        .prefer-google { border: 2px solid #00f5d4; box-shadow: 0 0 15px rgba(0, 245, 212, 0.5); }
    </style>
</head>
<body>

    <div class="grid-layer"></div>
    <div class="glow-line"></div>

    <div class="bubble-g w-14 h-14 top-20 left-[10%]" style="animation-delay: 0s;"></div>
    <div class="bubble-g w-20 h-20 bottom-24 right-[12%]" style="animation-delay: 3s;"></div>
    <div class="bubble-g w-10 h-10 top-[45%] right-[15%]" style="animation-delay: 7s;"></div>

    <main class="relative z-20 w-full max-w-md p-6">
        <div class="glass-card p-10 md:p-14 text-center">
            
            <div class="mb-8">
                <div class="flex justify-center items-center gap-3 mb-2">
                    <span class="text-3xl filter drop-shadow-[0_0_8px_rgba(0,245,212,0.8)]">üéÆ</span>
                    <h1 class="text-4xl font-bold text-white tracking-tight">GameBridge</h1>
                </div>
                <p class="text-gray-300 text-sm font-light">Play games. Discover worlds. Level up.</p>
            </div>

            <div class="space-y-4">
                <button id="googleBtn" class="w-full bg-white text-gray-800 font-bold py-3 px-4 rounded-xl flex items-center justify-center gap-3 shadow-lg hover:bg-gray-100 transition-all">
                    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5 h-5" alt="G">
                    Sign in with Google
                </button>

                <p class="text-[10px] text-gray-400 uppercase tracking-widest font-semibold pt-2">Or use email</p>

                <div class="space-y-3 text-left">
                    <input type="email" id="email" placeholder="Email Address" class="input-field w-full py-3 px-5 rounded-lg">
                    <div class="flex relative">
                        <input type="password" id="password" placeholder="Password" class="input-field w-full py-3 px-5 rounded-l-lg border-r-0">
                        <button id="loginBtn" class="bg-[#00c9b1] hover:bg-[#00f5d4] text-white font-bold px-6 rounded-r-lg transition-colors">
                            Login
                        </button>
                    </div>
                </div>

                <div class="flex items-center justify-between mt-4">
                    <button id="forgotBtn" class="text-xs text-gray-400 hover:text-white transition-colors underline underline-offset-4">Forgot Password?</button>
                    <button id="signUpBtn" class="text-xs text-cyan-400 hover:text-white font-bold transition-colors">Create account</button>
                </div>
            </div>

            <div class="mt-12 text-[9px] text-gray-500 uppercase tracking-[0.3em]">
                Powered by <a href="gamebridge.html" class="text-orange-400 font-bold hover:text-orange-300">GameBridge</a>
            </div>
        </div>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { 
            getAuth, GoogleAuthProvider, signInWithPopup, signInWithEmailAndPassword, sendPasswordResetEmail 
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCLd4MLONU_5OFie6WN2XmXmlMyfuJ5_8I",
            authDomain: "gamebridge-f4789.firebaseapp.com",
            projectId: "gamebridge-f4789",
            storageBucket: "gamebridge-f4789.firebasestorage.app",
            messagingSenderId: "562553872482",
            appId: "1:562553872482:web:02b34e7bc1b7a25af8f13b"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();

        // Safe User Sync Function
        const syncUser = async (user) => {
            const userRef = doc(db, "users", user.uid);
            await setDoc(userRef, {
                email: user.email,
                lastLogin: serverTimestamp(),
                status: "Online",
                role: user.email === "ownergamebridge@gmail.com" ? "admin" : "player"
            }, { merge: true });
        };

        // Highlight Google button if previously used
        if (localStorage.getItem('lastAuthMethod') === 'google') {
            document.getElementById('googleBtn').classList.add('prefer-google');
        }

        // Google Logic
        document.getElementById('googleBtn').addEventListener('click', async () => {
            try {
                const result = await signInWithPopup(auth, provider);
                await syncUser(result.user);
                localStorage.setItem('lastAuthMethod', 'google');
                window.location.href = 'player-dashboard.html';
            } catch (error) {
                alert("Auth Error: " + error.message);
            }
        });

        // Email Logic
        document.getElementById('loginBtn').addEventListener('click', async () => {
            const email = document.getElementById('email').value.trim();
            const pass = document.getElementById('password').value;
            const ADMIN_ID = "ownergamebridge@gmail.com";

            if(!email || !pass) return alert("Please fill in your credentials.");

            try {
                const userCred = await signInWithEmailAndPassword(auth, email, pass);
                const user = userCred.user;

                if (user.email === ADMIN_ID) {
                    localStorage.setItem('lastAuthMethod', 'password');
                    window.location.href = 'admin-portal.html';
                } else if (user.emailVerified) {
                    await syncUser(user);
                    localStorage.setItem('lastAuthMethod', 'password');
                    window.location.href = 'player-dashboard.html';
                } else {
                    alert("Please verify your email address before logging in.");
                    await auth.signOut();
                }
            } catch (error) {
                alert("Login Failed: Please check your credentials or try Google login.");
            }
        });

        // Forgot Password Logic (Restored from version 1)
        document.getElementById('forgotBtn').addEventListener('click', async () => {
            const email = document.getElementById('email').value.trim();
            if(!email) return alert("Enter your email address first.");
            try {
                await sendPasswordResetEmail(auth, email);
                alert("A password reset link has been sent to your email!");
            } catch (error) { alert(error.message); }
        });

        document.getElementById('signUpBtn').addEventListener('click', () => window.location.href = 'signup.html');
    </script>
</body>
</html>












signup

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameBridge | Create Account</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: radial-gradient(circle at 10% 10%, #1a1a2e 0%, #0f3460 30%, #533483 70%, #16213e 100%);
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 32px;
        }
        .input-field {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s;
        }
        .input-field:focus {
            border-color: #00f5d4;
            outline: none;
            background: rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <main class="w-full max-w-md p-6">
        <div class="glass-card p-10 text-center">
            <h1 class="text-3xl font-bold mb-2">Join GameBridge</h1>
            <p class="text-gray-300 text-sm mb-8">Create your profile to start playing.</p>
            
            <div class="space-y-4 text-left">
                <div>
                    <label class="text-xs text-gray-400 ml-1">EMAIL ADDRESS</label>
                    <input type="email" id="regEmail" placeholder="name@example.com" class="input-field w-full py-3 px-5 rounded-xl mt-1">
                </div>
                <div>
                    <label class="text-xs text-gray-400 ml-1">PASSWORD (6+ Characters)</label>
                    <input type="password" id="regPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="input-field w-full py-3 px-5 rounded-xl mt-1">
                </div>
                
                <button id="executeSignUp" class="w-full bg-[#00f5d4] text-black font-bold py-4 rounded-xl shadow-lg hover:scale-105 transition-all disabled:opacity-50 disabled:scale-100">
                    SEND VERIFICATION LINK
                </button>
            </div>

            <div class="mt-6">
                <a href="index.html" class="text-xs text-gray-400 hover:text-white transition-colors">Already have an account? Login</a>
            </div>
        </div>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, sendEmailVerification, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCLd4MLONU_5OFie6WN2XmXmlMyfuJ5_8I",
            authDomain: "gamebridge-f4789.firebaseapp.com",
            projectId: "gamebridge-f4789",
            storageBucket: "gamebridge-f4789.firebasestorage.app",
            messagingSenderId: "562553872482",
            appId: "1:562553872482:web:02b34e7bc1b7a25af8f13b"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        const signUpBtn = document.getElementById('executeSignUp');

        signUpBtn.addEventListener('click', async () => {
            const email = document.getElementById('regEmail').value.trim();
            const pass = document.getElementById('regPass').value;

            // Basic Validation Errors
            if (!email || !pass) return alert("Please fill in all fields.");
            if (pass.length < 6) return alert("Password must be at least 6 characters.");

            signUpBtn.disabled = true;
            signUpBtn.innerText = "PROCESSING...";

            try {
                // 1. Create the user in Auth
                const userCred = await createUserWithEmailAndPassword(auth, email, pass);
                const user = userCred.user;

                // 2. Add them to Firestore
                await setDoc(doc(db, "users", user.uid), {
                    email: user.email,
                    uid: user.uid,
                    joinedAt: serverTimestamp(),
                    isVerified: false,
                    role: "player"
                });

                // 3. Send Verification Email
                await sendEmailVerification(user);
                
                alert("Success! A verification link has been sent to " + email + ". Please verify your email before logging in.");
                
                // 4. Force Sign Out (so they have to log in AFTER verifying)
                await signOut(auth);
                
                window.location.href = 'index.html';
            } catch (error) {
                signUpBtn.disabled = false;
                signUpBtn.innerText = "SEND VERIFICATION LINK";
                
                // Map Firebase errors to user-friendly messages
                if (error.code === 'auth/email-already-in-use') {
                    alert("This email is already registered. Try logging in.");
                } else {
                    alert("Error: " + error.message);
                }
            }
        });
    </script>
</body>
</html>










player 

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GameBridge | Player Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root { --primary-bg: #0d1b2a; --accent-teal: #00f5d4; --accent-purple: #a855f7; }
body { font-family: 'Inter', sans-serif; background: radial-gradient(circle at 10% 10%, #1a1a2e 0%, #0f3460 30%, #533483 70%, #16213e 100%); color: white; min-height: 100vh; overflow-x: hidden; position: relative; }
.grid-layer { position: fixed; bottom: -10%; left: -10%; width: 120%; height: 60%; background-image: linear-gradient(to right, rgba(0,245,212,0.05) 1px, transparent 1px), linear-gradient(to bottom, rgba(0,245,212,0.05) 1px, transparent 1px); background-size: 50px 50px; transform: perspective(500px) rotateX(60deg); z-index: 0; }
.g-logo { display: flex; align-items: center; justify-content: center; font-weight: 900; border-radius: 8px; background: linear-gradient(135deg,#bf953f 0%,#fcf6ba 45%,#b38728 50%,#fbf5b7 55%,#aa771c 100%); border:1px solid rgba(255,215,0,0.3); box-shadow:0 0 15px rgba(191,149,63,0.4); color:#1a1a2e; user-select:none; }
.g-logo::after { content: 'G'; }
.glass-panel { background: rgba(255,255,255,0.03); backdrop-filter: blur(20px); border:1px solid rgba(255,255,255,0.1); border-radius:24px; }
.game-card { background: rgba(0,0,0,0.3); border:1px solid rgba(255,255,255,0.05); transition: all 0.3s ease; }
.game-card:hover { border-color: var(--accent-teal); transform: translateY(-2px); }
.btn-play { background: #00bcd4; transition: all 0.3s ease; }
.btn-play:hover { background: #00e5ff; box-shadow:0 0 20px rgba(0,188,212,0.4); }
.btn-install { background: rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.1); transition: all 0.3s ease; }
.btn-install:hover { background: rgba(255,255,255,0.1); }
.custom-scrollbar::-webkit-scrollbar { width:6px; }
.custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius:10px; }
.skeleton { background: linear-gradient(90deg, rgba(255,255,255,0.05) 25%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.05) 75%); background-size: 200% 100%; animation: loading 1.5s infinite; }
@keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
</style>
</head>
<body class="p-4 md:p-8 flex justify-center">

<div class="grid-layer"></div>

<main class="relative z-10 w-full max-w-2xl glass-panel shadow-2xl overflow-hidden flex flex-col h-[90vh]">
    <header class="p-6 border-b border-white/10 flex justify-between items-center">
        <div class="flex items-center gap-3">
            <div class="g-logo w-8 h-8 text-sm"></div>
            <h1 class="text-xl font-bold tracking-tight">GameBridge</h1>
        </div>
        <nav class="flex gap-6 text-sm font-semibold">
            <a href="#" class="text-white border-b-2 border-cyan-400 pb-1">LIBRARY</a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">HISTORY</a>
        </nav>
        <button id="logoutBtn" class="w-8 h-8 rounded-full border border-white/20 flex items-center justify-center hover:bg-white/10">üë§</button>
    </header>

    <div class="p-6">
        <h2 class="text-2xl font-bold mb-2">Discover & Play</h2>
        <p class="text-gray-400 text-sm">Access verified game demos and full titles.</p>
    </div>

    <div id="gamesContainer" class="flex-1 overflow-y-auto p-6 pt-0 custom-scrollbar space-y-4">
        <div id="loader" class="space-y-4">
            <div class="game-card p-4 rounded-2xl h-32 skeleton"></div>
            <div class="game-card p-4 rounded-2xl h-32 skeleton"></div>
            <div class="game-card p-4 rounded-2xl h-32 skeleton"></div>
        </div>
    </div>

    <footer class="p-4 text-center border-t border-white/10">
        <p class="text-[10px] text-gray-500 uppercase tracking-widest">Performance Hub ‚Ä¢ Secure Connection Active</p>
    </footer>
</main>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { 
    getFirestore, collection, onSnapshot, query, orderBy, where, 
    addDoc, serverTimestamp, doc, getDoc, updateDoc 
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

// --- Firebase Config ---
const firebaseConfig = {
    apiKey: "AIzaSyCLd4MLONU_5OFie6WN2XmXmlMyfuJ5_8I",
    authDomain: "gamebridge-f4789.firebaseapp.com",
    projectId: "gamebridge-f4789",
    storageBucket: "gamebridge-f4789.firebasestorage.app",
    messagingSenderId: "562553872482",
    appId: "1:562553872482:web:02b34e7bc1b7a25af8f13b"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

// --- SESSION SECURITY ---
onAuthStateChanged(auth, user => {
    if (!user) window.location.href = 'index.html';
});

// --- REWARDED AD (Launch Demo) ---
window.handleLaunchDemo = async (gameId, url, adPayout) => {
    if(!auth.currentUser) return;
    // TODO: Replace confirm with real Ad SDK
    const adCompleted = confirm("Watch a 30s ad to launch the demo?");
    if(adCompleted) {
        try {
            await addDoc(collection(db, "events"), {
                userName: auth.currentUser.email,
                gameName: gameId,
                type: "Ad Watched",
                value: Number(adPayout) || 0,
                timestamp: serverTimestamp()
            });
            window.open(url, "_blank");
        } catch(err) {
            console.error("Ad logging failed:", err);
        }
    }
};

// --- INSTALL ATTRIBUTION (Full App) ---
window.handleInstall = async (gameId, url, installPayout) => {
    if(!auth.currentUser) return;
    // TODO: Replace confirm with real affiliate SDK
    const confirmed = confirm("Redirecting to Play Store. Track this install?");
    if(confirmed) {
        try {
            await addDoc(collection(db, "events"), {
                userName: auth.currentUser.email,
                gameName: gameId,
                type: "Install",
                value: Number(installPayout) || 0,
                timestamp: serverTimestamp()
            });

            // Update game accumulated revenue
            const gameRef = doc(db, "games", gameId);
            const gameSnap = await getDoc(gameRef);
            if(gameSnap.exists()) {
                const currentRev = gameSnap.data().accumulatedRevenue || 0;
                await updateDoc(gameRef, { accumulatedRevenue: currentRev + Number(installPayout) });
            }

            window.open(url, "_blank");
        } catch(err) {
            console.error("Install tracking failed:", err);
        }
    }
};

// --- LEVEL / MILESTONE TRACKING ---
window.logLevelCompletion = async (gameId, level) => {
    if(!auth.currentUser) return;
    try {
        await addDoc(collection(db, "playerProgress"), {
            userId: auth.currentUser.email,
            gameId,
            level,
            milestonePaid: false,
            timestamp: serverTimestamp()
        });
    } catch(err) {
        console.error("Level logging failed:", err);
    }
};

// --- REAL-TIME GAME FETCH ---
const gamesContainer = document.getElementById("gamesContainer");
const q = query(collection(db, "games"), where("status","==","active"), orderBy("createdAt","desc"));

onSnapshot(q, snapshot => {
    gamesContainer.innerHTML = "";
    if(snapshot.empty) {
        gamesContainer.innerHTML = `<p class="text-center text-gray-500 py-10">No games available currently.</p>`;
        return;
    }

    snapshot.forEach(docSnap => {
        const game = docSnap.data();
        const gameId = docSnap.id;
        const card = `
        <div class="game-card p-4 rounded-2xl shadow-lg border-l-4 border-cyan-500/30">
            <div class="flex gap-4 mb-4">
                <div class="w-16 h-16 rounded-xl bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center text-3xl">üïπÔ∏è</div>
                <div class="flex-1">
                    <h3 class="text-lg font-bold text-white">${game.title}</h3>
                    <p class="text-[10px] text-cyan-400 uppercase font-black tracking-widest">${game.studio}</p>
                    <p class="text-[10px] text-gray-500 mt-1 italic">Engagement tracked via GameBridge SDK</p>
                </div>
            </div>
            <div class="grid grid-cols-2 gap-3">
                <button onclick="handleLaunchDemo('${gameId}', '${game.url}', '${game.adPayout}')" class="btn-play py-3 rounded-xl font-bold flex items-center justify-center gap-2 text-xs text-white uppercase">
                    <span>‚ñ∂</span> Launch Demo
                </button>
                <button onclick="handleInstall('${gameId}', '${game.url}', '${game.installPayout}')" class="btn-install py-3 rounded-xl font-bold flex items-center justify-center gap-2 text-xs text-white uppercase">
                    <span>üì≤</span> Full App
                </button>
            </div>
        </div>`;
        gamesContainer.innerHTML += card;
    });
});

// --- LOGOUT ---
document.getElementById("logoutBtn").addEventListener("click", () => {
    if(confirm("Sign out of GameBridge?")) {
        signOut(auth).then(() => window.location.href = "index.html");
    }
});
</script>
</body>
</html>




